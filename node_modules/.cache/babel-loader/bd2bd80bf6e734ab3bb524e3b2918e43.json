{"ast":null,"code":"var _jsxFileName = \"F:\\\\Web\\\\react.js\\\\src\\\\component\\\\Animal\\\\subAnimalServey\\\\TabIdentity.jsx\";\nimport React from 'react';\nimport local from 'antd/es/date-picker/locale/th_TH';\nimport moment from 'moment';\nimport { AnimalDataRegit, AnimalDescover } from '../../../api/AnimalApis';\nimport { connect } from 'react-redux';\nimport { Row, Col, Upload, Input, DatePicker, TimePicker, Select, Card, Switch, Skeleton, Form, Button, message } from 'antd';\nimport * as Icon from '@ant-design/icons';\nimport ModalSearch from './ModalSearch';\n\nconst mapPropsToState = state => {\n  return {\n    data: state\n  };\n};\n\nconst {\n  Option\n} = Select;\n\nclass TabIdentity extends React.Component {\n  constructor() {\n    super();\n\n    this.onInjury = e => {\n      this.setState({\n        injuryStat: e\n      });\n    };\n\n    this.onDeath = e => {\n      this.setState({\n        deathStat: e\n      });\n    };\n\n    this.dateChange = (a, b) => {\n      let date = b;\n      this.setState({\n        dateSelect: date\n      });\n    };\n\n    this.timeChange = (a, b) => {\n      let time = b;\n      this.setState({\n        timeSelect: time\n      });\n    };\n\n    this.injuryChange = (a, b) => {\n      let injury = a;\n      this.setState({\n        injuryLevel: injury\n      });\n    };\n\n    this.onSave = async () => {\n      let injuryDescription = \"\",\n          deathDescription = \"\",\n          injuryTitles = \"\";\n\n      if (document.getElementById('injuryDescription') !== null) {\n        injuryDescription = document.getElementById('injuryDescription').value;\n      }\n\n      if (document.getElementById('deathDescription') !== null) {\n        deathDescription = document.getElementById('deathDescription').value;\n      }\n\n      if (document.getElementById('injuryTitle') !== null) {\n        injuryTitles = document.getElementById('injuryTitle').value;\n      }\n\n      let data = {\n        animalId: this.props.data.animalData[0].animal_id,\n        date: this.state.dateSelect,\n        time: this.state.timeSelect,\n        latitude: document.getElementById('latitude').value,\n        longitude: document.getElementById('longitude').value,\n        employeeId: this.props.data.user.employee_id,\n        injury: {\n          injuryStatus: this.state.injuryStat,\n          injuryTitles: injuryTitles,\n          injuryDescription: injuryDescription,\n          injuryLevel: this.state.injuryLevel\n        },\n        death: {\n          deathStatus: this.state.deathStat,\n          deathDescription: deathDescription\n        }\n      };\n\n      if (data.animalId.length === 0) {\n        message.warning('ไม่พบข้อมูล');\n      } else if (this.state.dateSelect === \"\") {\n        message.warning('ระบุวันที่');\n      } else if (this.state.timeSelect === \"\") {\n        message.warning('ระบุเวลา');\n      } else if (data.latitude === \"\" || data.longitude === \"\") {\n        message.warning('ระบุละติจูด ลองจิจูด');\n      } else if (data.employeeId === \"\") {\n        message.error('กรุณาล็อคอิน');\n      } else if (data.injury.injuryStatus === true && (data.injury.injuryTitles === \"\" || data.injury.injuryDescription === \"\" || data.injury.injuryLevel === \"\")) {\n        message.warning('ระบุอาการบาดเจ็บ');\n      } else if (data.death.deathStatus === true && data.death.deathDescription === \"\") {\n        message.warning('ระบุสาเหตการเสียชีวิต');\n      } else {\n        await AnimalDescover(data);\n      }\n    };\n\n    this.state = {\n      animalType: [],\n      animalSex: [],\n      animalInjury: [],\n      //\n      injuryStat: false,\n      deathStat: false,\n      //\n      dateSelect: '',\n      timeSelect: '',\n      injuryLevel: ''\n    };\n  }\n\n  async componentDidMount() {\n    let dataRegit = await AnimalDataRegit();\n    this.setState({\n      animalType: dataRegit.AnimalType,\n      animalSex: dataRegit.AnimalSex,\n      animalInjury: dataRegit.AnimalInjury\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Row, {\n      gutter: [8, 8],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: {\n        span: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: [8, 8],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ModalSearch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E0A\\u0E19\\u0E34\\u0E14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      style: {\n        width: '100%'\n      },\n      value: this.props.data.animalData.map(a => a.animal_type_description).toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, this.state.animalType.map((a, b) => /*#__PURE__*/React.createElement(Option, {\n      key: b,\n      value: a.animal_type_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 49\n      }\n    }, a.animal_type_description))))), /*#__PURE__*/React.createElement(Col, {\n      span: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E40\\u0E1E\\u0E28\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      style: {\n        width: '100%'\n      },\n      value: this.props.data.animalData.map(a => a.animal_sex_description).toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 41\n      }\n    }, this.state.animalSex.map((a, b) => /*#__PURE__*/React.createElement(Option, {\n      key: b,\n      value: a.animal_sex_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 49\n      }\n    }, a.animal_sex_description))))), /*#__PURE__*/React.createElement(Col, {\n      span: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E08\\u0E23\\u0E34\\u0E07\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: this.props.data.animalData.map(a => a.animal_fname).toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: this.props.data.animalData.map(a => a.animal_lname).toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E25\\u0E48\\u0E19\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: this.props.data.animalData.map(a => a.animal_nick_name).toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E27\\u0E31\\u0E19\\u0E40\\u0E01\\u0E34\\u0E14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      locale: local,\n      value: moment(this.props.data.animalData.map(a => a.animal_birthday).toString(), 'YYYY-MM-DD'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2D\\u0E32\\u0E22\\u0E38\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 37\n      }\n    }, this.props.data.animalData.map(a => a.animal_age))), /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 37\n      }\n    }, this.props.data.animalData.map(a => a.animal_discharge_description))))))), /*#__PURE__*/React.createElement(Col, {\n      lg: {\n        span: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      onChange: this.dateChange,\n      locale: local,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E40\\u0E27\\u0E25\\u0E32\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TimePicker, {\n      onChange: this.timeChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E25\\u0E30\\u0E15\\u0E34\\u0E08\\u0E39\\u0E14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"latitude\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E25\\u0E2D\\u0E07\\u0E08\\u0E34\\u0E08\\u0E39\\u0E14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"longitude\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2D\\u0E31\\u0E1E\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E20\\u0E32\\u0E1E\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      multiple: true,\n      listType: \"picture-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Icon.CameraOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2D\\u0E32\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E32\\u0E14\\u0E40\\u0E08\\u0E47\\u0E1A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      onChange: this.onInjury,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      loading: !this.state.injuryStat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2D\\u0E32\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E32\\u0E14\\u0E40\\u0E08\\u0E47\\u0E1A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"injuryTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input.TextArea, {\n      id: \"injuryDescription\",\n      rows: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E04\\u0E27\\u0E32\\u0E21\\u0E23\\u0E38\\u0E19\\u0E41\\u0E23\\u0E07\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      onSelect: this.injuryChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 41\n      }\n    }, this.state.animalInjury.map((a, b) => /*#__PURE__*/React.createElement(Option, {\n      key: b,\n      value: a.f_injury_level_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 53\n      }\n    }, a.injury_level_description)))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E40\\u0E2A\\u0E35\\u0E22\\u0E0A\\u0E35\\u0E27\\u0E34\\u0E15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      onChange: this.onDeath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Skeleton, {\n      active: true,\n      loading: !this.state.deathStat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: \"\\u0E2A\\u0E32\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E01\\u0E32\\u0E23\\u0E15\\u0E32\\u0E22\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Input.TextArea, {\n      rows: 4,\n      id: \"deathDescription\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.onSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 29\n      }\n    }, \"บันทึก\")))));\n  }\n\n}\n\nexport default connect(mapPropsToState)(TabIdentity);","map":{"version":3,"sources":["F:/Web/react.js/src/component/Animal/subAnimalServey/TabIdentity.jsx"],"names":["React","local","moment","AnimalDataRegit","AnimalDescover","connect","Row","Col","Upload","Input","DatePicker","TimePicker","Select","Card","Switch","Skeleton","Form","Button","message","Icon","ModalSearch","mapPropsToState","state","data","Option","TabIdentity","Component","constructor","onInjury","e","setState","injuryStat","onDeath","deathStat","dateChange","a","b","date","dateSelect","timeChange","time","timeSelect","injuryChange","injury","injuryLevel","onSave","injuryDescription","deathDescription","injuryTitles","document","getElementById","value","animalId","props","animalData","animal_id","latitude","longitude","employeeId","user","employee_id","injuryStatus","death","deathStatus","length","warning","error","animalType","animalSex","animalInjury","componentDidMount","dataRegit","AnimalType","AnimalSex","AnimalInjury","render","span","textAlign","width","map","animal_type_description","toString","animal_type_id","animal_sex_description","animal_sex_id","animal_fname","animal_lname","animal_nick_name","animal_birthday","animal_age","animal_discharge_description","f_injury_level_id","injury_level_description"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport local from 'antd/es/date-picker/locale/th_TH'\r\nimport moment from 'moment';\r\nimport { AnimalDataRegit, AnimalDescover } from '../../../api/AnimalApis'\r\nimport { connect } from 'react-redux'\r\nimport { Row, Col, Upload, Input, DatePicker, TimePicker, Select, Card, Switch, Skeleton, Form, Button, message } from 'antd'\r\nimport * as Icon from '@ant-design/icons'\r\nimport ModalSearch from './ModalSearch'\r\n\r\nconst mapPropsToState = (state) => {\r\n    return {\r\n        data: state\r\n    }\r\n}\r\n\r\nconst { Option } = Select\r\n\r\nclass TabIdentity extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            animalType: [],\r\n            animalSex: [],\r\n            animalInjury: [],\r\n            //\r\n            injuryStat: false,\r\n            deathStat: false,\r\n            //\r\n            dateSelect: '',\r\n            timeSelect: '',\r\n            injuryLevel: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let dataRegit = await AnimalDataRegit()\r\n        this.setState({\r\n            animalType: dataRegit.AnimalType,\r\n            animalSex: dataRegit.AnimalSex,\r\n            animalInjury: dataRegit.AnimalInjury\r\n        })\r\n    }\r\n\r\n    onInjury = (e) => {\r\n        this.setState({ injuryStat: e })\r\n    }\r\n\r\n    onDeath = (e) => {\r\n        this.setState({ deathStat: e })\r\n    }\r\n\r\n    dateChange = (a, b) => {\r\n        let date = b\r\n        this.setState({ dateSelect: date })\r\n    }\r\n\r\n    timeChange = (a, b) => {\r\n        let time = b\r\n        this.setState({ timeSelect: time })\r\n    }\r\n\r\n    injuryChange = (a, b) => {\r\n        let injury = a\r\n        this.setState({ injuryLevel: injury })\r\n    }\r\n\r\n    onSave = async () => {\r\n        let injuryDescription = \"\",\r\n            deathDescription = \"\",\r\n            injuryTitles = \"\"\r\n        if (document.getElementById('injuryDescription') !== null) {\r\n            injuryDescription = document.getElementById('injuryDescription').value\r\n        }\r\n        if (document.getElementById('deathDescription') !== null) {\r\n            deathDescription = document.getElementById('deathDescription').value\r\n        }\r\n        if (document.getElementById('injuryTitle') !== null) {\r\n            injuryTitles = document.getElementById('injuryTitle').value\r\n        }\r\n\r\n        let data = {\r\n            animalId: this.props.data.animalData[0].animal_id,\r\n            date: this.state.dateSelect,\r\n            time: this.state.timeSelect,\r\n            latitude: document.getElementById('latitude').value,\r\n            longitude: document.getElementById('longitude').value,\r\n            employeeId: this.props.data.user.employee_id,\r\n            injury: {\r\n                injuryStatus: this.state.injuryStat,\r\n                injuryTitles: injuryTitles,\r\n                injuryDescription: injuryDescription,\r\n                injuryLevel: this.state.injuryLevel\r\n            },\r\n            death: {\r\n                deathStatus: this.state.deathStat,\r\n                deathDescription: deathDescription\r\n            }\r\n        }\r\n\r\n        if (data.animalId.length === 0) {\r\n            message.warning('ไม่พบข้อมูล')\r\n        } else if (this.state.dateSelect === \"\") {\r\n            message.warning('ระบุวันที่')\r\n        } else if (this.state.timeSelect === \"\") {\r\n            message.warning('ระบุเวลา')\r\n        } else if (data.latitude === \"\" || data.longitude === \"\") {\r\n            message.warning('ระบุละติจูด ลองจิจูด')\r\n        } else if (data.employeeId === \"\") {\r\n            message.error('กรุณาล็อคอิน')\r\n        } else if (data.injury.injuryStatus === true && (data.injury.injuryTitles === \"\" || data.injury.injuryDescription === \"\" || data.injury.injuryLevel === \"\")) {\r\n            message.warning('ระบุอาการบาดเจ็บ')\r\n        } else if (data.death.deathStatus === true && (data.death.deathDescription === \"\")) {\r\n            message.warning('ระบุสาเหตการเสียชีวิต')\r\n        } else {\r\n            await AnimalDescover(data)\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Row gutter={[8, 8]}>\r\n                <Col lg={{ span: 12 }} >\r\n                    <Card>\r\n                        <Form>\r\n                            <Row gutter={[8, 8]}>\r\n                                <Col span={24}>\r\n                                    <div style={{ textAlign: 'right' }}>\r\n                                        <ModalSearch />\r\n                                    </div>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label=\"ชนิด\">\r\n                                        <Select\r\n                                            style={{ width: '100%' }}\r\n                                            value={this.props.data.animalData.map(a => a.animal_type_description).toString()}\r\n                                        >\r\n                                            {this.state.animalType.map((a, b) =>\r\n                                                <Option key={b} value={a.animal_type_id}>{a.animal_type_description}</Option>\r\n                                            )}\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={12}>\r\n                                    <Form.Item label=\"เพศ\">\r\n                                        <Select\r\n                                            style={{ width: '100%' }}\r\n                                            value={this.props.data.animalData.map(a => a.animal_sex_description).toString()}\r\n                                        >\r\n                                            {this.state.animalSex.map((a, b) =>\r\n                                                <Option key={b} value={a.animal_sex_id}>{a.animal_sex_description}</Option>\r\n                                            )}\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"ชื่อจริง\">\r\n                                        <Input value={this.props.data.animalData.map(a => a.animal_fname).toString()} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"นามสกุล\">\r\n                                        <Input value={this.props.data.animalData.map(a => a.animal_lname).toString()} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"ชื่อเล่น\">\r\n                                        <Input value={this.props.data.animalData.map(a => a.animal_nick_name).toString()} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={8}>\r\n                                    <Form.Item label=\"วันเกิด\">\r\n                                        <DatePicker locale={local} value={moment(this.props.data.animalData.map(a => a.animal_birthday).toString(), 'YYYY-MM-DD')} />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={14}>\r\n                                    <Form.Item label=\"อายุ\">\r\n                                        {this.props.data.animalData.map(a => a.animal_age)}\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={24}>\r\n                                    <Form.Item label=\"สถานะ\">\r\n                                        {this.props.data.animalData.map(a => a.animal_discharge_description)}\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Row>\r\n                        </Form>\r\n                    </Card>\r\n                </Col>\r\n\r\n                <Col lg={{ span: 12 }} >\r\n                    <Form>\r\n                        <Card>\r\n                            <Col span={16}>\r\n                                <Form.Item label=\"วันที่\">\r\n                                    <DatePicker onChange={this.dateChange} locale={local} />\r\n                                </Form.Item>\r\n                                <Form.Item label=\"เวลา\">\r\n                                    <TimePicker onChange={this.timeChange} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={16}>\r\n                                <Form.Item label=\"ละติจูด\">\r\n                                    <Input id=\"latitude\" />\r\n                                </Form.Item>\r\n                                <Form.Item label=\"ลองจิจูด\">\r\n                                    <Input id=\"longitude\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={20}>\r\n                                <Form.Item label=\"อัพโหลดภาพ\">\r\n                                    <Upload\r\n                                        multiple={true}\r\n                                        listType=\"picture-card\"\r\n                                    >\r\n                                        <Icon.CameraOutlined />\r\n                                    </Upload>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <hr />\r\n                            <Form.Item label=\"อาการบาดเจ็บ\">\r\n                                <Switch onChange={this.onInjury} />\r\n                            </Form.Item>\r\n                            <Skeleton active loading={!this.state.injuryStat}>\r\n                                <Col span={20}>\r\n                                    <Form.Item label=\"อาการบาดเจ็บ\">\r\n                                        <Input id=\"injuryTitle\" />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={20}>\r\n                                    <Form.Item label=\"รายละเอียด\">\r\n                                        <Input.TextArea\r\n                                            id=\"injuryDescription\"\r\n                                            rows={4}\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                                <Col span={20}>\r\n                                    <Form.Item label=\"ลำดับความรุนแรง\">\r\n                                        <Select\r\n                                            onSelect={this.injuryChange}\r\n                                        >\r\n                                            {this.state.animalInjury.map((a, b) =>\r\n                                                (\r\n                                                    <Option key={b} value={a.f_injury_level_id}>{a.injury_level_description}</Option>\r\n                                                )\r\n                                            )}\r\n                                        </Select>\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Skeleton>\r\n                            <hr />\r\n                            <Form.Item label=\"เสียชีวิต\">\r\n                                <Switch onChange={this.onDeath} />\r\n                            </Form.Item>\r\n                            <Skeleton active loading={!this.state.deathStat}>\r\n                                <Col span={20}>\r\n                                    <Form.Item label=\"สาเหตุการตาย\">\r\n                                        <Input.TextArea\r\n                                            rows={4}\r\n                                            id=\"deathDescription\"\r\n                                        />\r\n                                    </Form.Item>\r\n                                </Col>\r\n                            </Skeleton>\r\n                            <Button onClick={this.onSave}>{\"บันทึก\"}</Button>\r\n                        </Card>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(TabIdentity)"]},"metadata":{},"sourceType":"module"}